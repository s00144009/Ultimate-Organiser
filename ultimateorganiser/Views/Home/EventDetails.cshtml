@*@model IEnumerable<Geocoding.Address>*@


@*<script src="http://maps.googleapis.com/maps/api/js?sensor=falsekey=AIzaSyDpswHcF-6hQRysnIaTEdls4l8ATwq4x88"></script>*@
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpswHcF-6hQRysnIaTEdls4l8ATwq4x88"></script>



@*<body onload="FncGoogleMap(@ViewBag.Lat, @ViewBag.Long)">*@

    <div class="form-horizontal">
        <h2>@ViewBag.EventTitle</h2>
        <br />
        <h3>@ViewBag.EventDesc</h3>
        <h3>@ViewBag.EventLocation</h3>
        <h3>@ViewBag.EventDate</h3>
    </div>




    @*Google Map Div*@
    <div id="googleMap" style="width:500px;height:380px;"></div>
@*</body>*@

    <script>
        //function FncGoogleMap(lat, lon) {
        function initialize(lat, lon) {

        // Array of stylin for map
        var styles = [
          {
              stylers: [
                { hue: "#b3ccff" },
                { saturation: -30 }
              ]
          },
          //Road Labels
          {
              featureType: "road",
              elementType: "labels",
              stylers: [
                { visibility: "on" }
              ]
          },
          //Road Geometry
          {
              featureType: "road",
              elementType: "geometry",
              stylers: [
                { lightness: 100 },
                { visibility: "simplified" }
              ]
          }
        ];

        var styledMap = new google.maps.StyledMapType(styles,
          { name: "Styled Map" });

        //Get center using longitude and latitude passed back from controller
        var center = new google.maps.LatLng(lat, lon);

        //Specify Map Options
        var mapOptions = {
            zoom: 17, //Map Zoom Level
            center: center, //Set Map center point
            mapTypeControlOptions: {
                mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'map_style']
            }
        };

        //Assign Map to div
        var map = new google.maps.Map(document.getElementById('mapDiv'),
          mapOptions);

        var marker = new google.maps.Marker({
            position: center,
            map: map,
            title: "@ViewBag.EventTitle"
        })

        map.mapTypes.set('map_style', styledMap);
        map.setMapTypeId('map_style');

        google.maps.event.addDomListener(window, "load", initialize);
        }


</script>

